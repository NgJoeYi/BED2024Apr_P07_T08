<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EduHelper | Account</title>
  <link rel="icon" type="image/x-icon" href="Images/MemoryLogo.png">
  <link rel="stylesheet" href="CSS/account.css">
  <link rel="stylesheet" href="CSS/navbar.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Sofia">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <link href='https://fonts.googleapis.com/css?family=Boogaloo' rel='stylesheet'>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Trirong">
  <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet'>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link href='https://fonts.googleapis.com/css?family=Afacad' rel='stylesheet'>
</head>
<body id="account-page">
  <header>
    <div class="sidebar">
      <a class="logo" href="Index.html"><i class="fa fa-slideshare"></i>&nbsp;EduHelper<span>.</span></a>
      <ul class="menu-links">
        <li><a href="Index.html">HOME</a></li>
        <li><a href="Courses.html" id="nav-courses">COURSES</a></li>
        <li><a href="activityfeed.html" id="nav-activityfeed" >ACTIVITYFEED</a></li>
        <li><a href="quiz.html">QUIZ</a></li>
        <li><a href="ContactUs.html">CONTACT US</a></li>
        <li><a href="credit.html">CREDITS</a></li>
      </ul>

      <div class="auth-links" id="auth-links">
        <a href="Login.html" id="navbar-login">LOG IN</a>
        <a href="Register.html" id="navbar-signup">SIGN UP</a>
    </div>

    </div>
  </header>

  <div class="main-content">
    <div class="top-navbar">
      <span class="overview">Overview</span>
      <div class="search-bar">
        <input type="text" placeholder="Search for your Review, Discussion and Quiz Taken">
      </div>
      <div class="user-info" onclick="toggleDropdown()">
        <div class="profile-image-container">
          <img src="images/profilePic.jpeg" alt="Profile Image" id="profile-pic" class="profile-pic">
        </div>
        <span class="user-name">username</span>
        <i class="fa fa-caret-down"></i>
        <div class="dropdown" style="display: none;">
          <a href="#" onclick="triggerFileInput()">Change Profile Picture</a>
          <input type="file" id="file-input" accept="image/*" style="display: none;" onchange="previewImage(event)">
          <a href="#" onclick="confirmLogout()">Log Out</a>
          <a href="#" onclick="confirmDeleteAccount()">Delete Account</a>
        </div>
      </div>
      <div class="profile-info">
        <input type="text" class="username-input" id="username-input" value="" style="display: none;">
        &nbsp;&nbsp;&nbsp;&nbsp;
        <i id="edit-icon" class="fa-solid fa-pencil" style="color: #000000; cursor: pointer;"></i>
      </div>
    </div>
  </div>

<!-- Confirmation modal for account deletion with password -->
<div id="deleteModal" class="modal-delete">
  <div class="modal-content">
    <span class="close" onclick="closeDeleteModal()">&times;</span>
    <h2>Confirm Account Deletion</h2>
    <p>Are you sure you want to delete your account? This action cannot be undone.</p>
    <label for="delete-password">Enter your password:</label>
    <input type="password" id="delete-password" required>
    <button onclick="deleteAccount()">Yes, Delete</button>
    <button onclick="closeDeleteModal()">Cancel</button>
  </div>
</div>

    
  <!-- Edit Account Details -->
  <div class="editaccountdetails">
    <div id="edit-account-details" style="display: none;">
      <div class="form-group">
        <label for="edit-name">Name</label>
        <input type="text" id="edit-name" value="User">
      </div>
      <div class="form-group">
        <label for="edit-birth-date">Date of Birth</label>
        <input type="date" id="edit-birth-date" readonly>
      </div>
      <div class="form-group">
        <label for="edit-email">Email</label>
        <div class="email-container">
          <input type="email" id="edit-email">
        </div>
      </div>
      <div class="form-group">
        <label for="current-password">Current Password</label>
        <input type="password" id="current-password">
      </div>
      <div class="form-group">
        <label for="edit-password">New Password</label>
        <input type="password" id="edit-password">
      </div>
      <div class="form-group">
        <label for="edit-confirm-password">Confirm New Password</label>
        <input type="password" id="edit-confirm-password">
      </div>
      <button id="save-changes">Save</button>
    </div>
  </div>

  <!-- Dashboard Content -->
  <div class="dashboard">
    <div class="welcome-message">
      <div>
        <h3 class="h3">Hi <span class="user-name">username</span>,</h3>
        <h2>Ready to learn something new?</h2>
        <p>
          An educational website that provides a seamless navigation experience is essential for an engaging and effective learning journey. Imagine a platform where users can effortlessly browse through their activity feed, keeping up with the latest updates and interactions from peers and instructors.</p>
      </div>
      <img src="images/accountimagewelc.png" alt="Welcome Image" class="welcom">
    </div>
    <div class="course-stats">
      <div class="stat">
        <span class="icon"><i class="fa fa-book"></i></span>
        <div class="info">
          <h3>0</h3><!-- This will be updated dynamically -->
          <p>Total Following</p>
        </div>
      </div>
      <div class="stat">
        <span class="icon"><i class="fa fa-check"></i></span>
        <div class="info">
          <h3>7</h3>
          <p>Completed courses</p>
        </div>
      </div>
      <div class="stat">
        <span class="icon"><i class="fa fa-clock"></i></span>
        <div class="info">
          <h3>120 hrs</h3>
          <p>Total course hours</p>
        </div>
      </div>
    </div>

    <div class="whole-container">
    <div class="tab-container">
      <div class="tab" onclick="showSection('discussions')">Discussions Posted</div>
      <div class="tab" onclick="showSection('reviews')">Reviews Submitted</div>
      <div class="tab" onclick="showSection('quizzes')">Quizzes Taken</div>
    </div>
    
    <!-- Discussions Section -->
    <div id="discussions" class="tab-content">
      <div class="section-container">
        <div class="title-container">
          <div class="title">Discussions</div>
        </div>
        <div class="user-discussions">
          <!-- User discussions will be populated here -->
        </div>
        <div class="no-discussions-message" style="display: none;">
          <p>No discussions posted by this user.</p>
        </div>
        
        <div id="editModal" class="modal-edit">
          <div class="modal-content-edit">
            <span class="close" onclick="closeEditModal()">&times;</span>
            <h2>Edit Discussion</h2>
            <form id="editForm">
              <label for="editTitle">Title:</label>
              <input id="editTitle" type="text" />
              <label for="editText">Discussion Text:</label>
              <textarea id="editText"></textarea>
              <label for="editCategory">Category:</label>
              <select id="editCategory">
                <option value="coding">Coding</option>
                <option value="math">Math</option>
                <option value="english">English</option>
                <option value="microsoft">Microsoft</option>
              </select>
              <button type="button" id="saveEdit">Save Changes</button>
            </form>
          </div>
        </div>
        
    
        <div id="deleteDiscussionModal" class="modal-delete">
          <div class="modal-content-delete">
            <span class="close" onclick="closeDeleteModal()">&times;</span>
            <h2>Confirm Discussion Deletion</h2>
            <p>Are you sure you want to delete this discussion? This action cannot be undone.</p>
            <button id="confirmDelete">Yes, Delete</button>
            <button id="cancelDeleteModal" onclick="closeDeleteModal()">Cancel</button>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Reviews Section -->
    <div id="reviews" class="tab-content">
      <div class="section-container">
        <div class="title-container">
          <div class="title">Reviews</div>
        </div>
        <div class="review-wrapper">
          <!-- Reviews will be populated here -->
        </div>
        <div class="modalreview" id="editReviewModal" style="display:none;" data-review-id="">
          <div class="modal-content-review">
              <span class="close" onclick="closeEditReviewModal()">&times;</span>
              <h2>Edit Review</h2>
              <div class="stars" style="margin-left: 80px; margin-top: 10px;">
                  <i class="fa fa-star" data-value="1" style="margin-right: 50px;"></i>
                  <i class="fa fa-star" data-value="2" style="margin-right: 50px;"></i>
                  <i class="fa fa-star" data-value="3" style="margin-right: 50px;"></i>
                  <i class="fa fa-star" data-value="4" style="margin-right: 50px;"></i>
                  <i class="fa fa-star" data-value="5"></i>
              </div>
              <textarea id="editReviewText" placeholder="Review.."></textarea>
              <button id="submitEditedReview">Post!</button>
          </div>
        </div>

        <!-- Delete Review Modal -->
        <div id="deleteReviewModal" class="modal-delete">
          <div class="modal-content-delete">
            <span class="close" onclick="closeDeleteReviewModal()">&times;</span>
            <h2>Confirm Review Deletion</h2>
            <p>Are you sure you want to delete this review? This action cannot be undone.</p>
            <button id="confirmReviewDelete">Yes, Delete</button>
            <button id="cancelReviewDelete" onclick="closeDeleteReviewModal()">Cancel</button>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Quiz Results Section -->
    <div id="quizzes" class="tab-content">
      <div class="section-container">
        <div class="title-container">
          <div class="title">Quiz Results</div>
        </div>
        <div class="quiz-results">
          <!-- User quiz results will be populated here -->
        </div>
        <div class="no-quiz-results-message" style="display: none;">
          <p>No quizzes attempted by this user.</p>
        </div>
      </div>
    </div>
  </div>





  <div class="total-container">
    <div class="total-title-container">
    <h2>Your Totals</h2>
  </div>
    <div class="card">
      <div class="card-content">
        <h3>Total Reviews</h3>
        <p id="total-reviews">0</p>
      </div>
    </div>
    <div class="card">
      <div class="card-content">
        <h3>Total Discussions</h3>
        <p id="total-discussions">0</p>
      </div>
    </div>
    <div class="card">
      <div class="card-content">
        <h3>Total Quizzes Taken</h3>
        <p id="total-quizzes">0</p>
      </div>
    </div>
  </div>
  
  





  <!-- External JavaScript files -->
  <script src="JAVASCRIPT/JwtUtility.js"></script>
  <script src="JAVASCRIPT/account.js"></script>
  <script src="JAVASCRIPT/accountSetting.js"></script>
  <script src="JAVASCRIPT/script.js"></script>
</body>
</html>
